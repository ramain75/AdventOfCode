package com.adventofcode.year2024.day8;

import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.Test;

import static org.junit.jupiter.api.Assertions.assertEquals;

public class Day8Test {
    @Test
    void testDay8WithSampleInput() {
        String input = """
                ............
                ........0...
                .....0......
                .......0....
                ....0.......
                ......A.....
                ............
                ............
                ........A...
                .........A..
                ............
                ............""";
        Day8 day8 = new Day8(input);
        String expectedMap = """
                ......#....#
                ...#....0...
                ....#0....#.
                ..#....0....
                ....0....#..
                .#....A.....
                ...#........
                #......#....
                ........A...
                .........A..
                ..........#.
                ..........#.""";
        String resultingMap = day8.printMap();
        assertEquals(expectedMap, resultingMap);
        assertEquals(14, day8.countAntinodes());
    }

    @Test
    void testDay8NewAntinodeRulesWithTFrequency() {
        String input = """
                T.........
                ...T......
                .T........
                ..........
                ..........
                ..........
                ..........
                ..........
                ..........
                ..........""";
        Day8 day8 = new Day8(input, true);
        String expectedMap = """
                T....#....
                ...T......
                .T....#...
                .........#
                ..#.......
                ..........
                ...#......
                ..........
                ....#.....
                ..........""";
        String resultingMap = day8.printMap();
        assertEquals(expectedMap, resultingMap);
        assertEquals(9, day8.countAntinodes());
    }

    @Test
    void testDay8NewAntinodeRulesWithSampleInput() {
        String input = """
                ............
                ........0...
                .....0......
                .......0....
                ....0.......
                ......A.....
                ............
                ............
                ........A...
                .........A..
                ............
                ............""";
        Day8 day8 = new Day8(input, true);
        String expectedMap = """
                ##....#....#
                .#.#....0...
                ..#.#0....#.
                ..##...0....
                ....0....#..
                .#...#A....#
                ...#..#.....
                #....#.#....
                ..#.....A...
                ....#....A..
                .#........#.
                ...#......##""";
        String resultingMap = day8.printMap();
        assertEquals(expectedMap, resultingMap);
        assertEquals(34, day8.countAntinodes());
    }

    @Test
    void testDay8WithPuzzleInput() {
        String input = """
                ....................................8.............
                ..................E...............................
                .................................g................
                ...........................................l...b..
                ..C...........s..............8..........b.........
                ..................3..1........................b...
                ............N....3.....................1.....b....
                .....................N.....8....1..............2..
                ..q....................................P..........
                ......................N...........................
                ...........E.................................l....
                .............S.....c.............T..2v............
                .........w....E........q............L.....P.....l.
                ........w..............................a...V......
                ...........t..................v..V................
                .....w.C............................V....4.....L..
                ........................................I.n..T....
                .....E.5..C...8....3..q...........................
                ...............s..0...A........W...........a....T.
                ...............A................vPT...L..W..e.4...
                ...........Cw..................2.....G.p.....4....
                ....S........q........s.............a.............
                S.............c......e....................V.......
                ......5...........................................
                ....5.............................................
                ...........................I............g.........
                ...............c.........A........................
                .................s.............G.............etg..
                .........5...L.........f...v......W...............
                ............................0.W.....I........t....
                ..................................................
                ...................f...........Q.0................
                ..............1m9.f..........0........3.........F.
                ..f...9................B..........................
                ...........S...........................F......e...
                ........c.............n.....Q.....................
                .....N...............B............g..7....t.......
                ..........B.........P.......G.....................
                ..m...........................Q...................
                .............m.....................p...........F..
                .....M..B......Q..i.....................7.4.......
                ............M..................7..................
                ...........n......................................
                ................................p.....6.F.7.......
                ..........M...........p.........6.................
                .M............i...................................
                ..............................G...................
                ..............li.......................6..........
                .....9.....................i...6..................
                .....n.............................9..............""";
        Day8 day8 = new Day8(input);
        String resultingMap = day8.printMap();
        System.out.println(resultingMap);
        assertEquals(280, day8.countAntinodes());
    }

    @Test
    void testDay8NewAntinodeRulesWithPuzzleInput() {
        String input = """
                ....................................8.............
                ..................E...............................
                .................................g................
                ...........................................l...b..
                ..C...........s..............8..........b.........
                ..................3..1........................b...
                ............N....3.....................1.....b....
                .....................N.....8....1..............2..
                ..q....................................P..........
                ......................N...........................
                ...........E.................................l....
                .............S.....c.............T..2v............
                .........w....E........q............L.....P.....l.
                ........w..............................a...V......
                ...........t..................v..V................
                .....w.C............................V....4.....L..
                ........................................I.n..T....
                .....E.5..C...8....3..q...........................
                ...............s..0...A........W...........a....T.
                ...............A................vPT...L..W..e.4...
                ...........Cw..................2.....G.p.....4....
                ....S........q........s.............a.............
                S.............c......e....................V.......
                ......5...........................................
                ....5.............................................
                ...........................I............g.........
                ...............c.........A........................
                .................s.............G.............etg..
                .........5...L.........f...v......W...............
                ............................0.W.....I........t....
                ..................................................
                ...................f...........Q.0................
                ..............1m9.f..........0........3.........F.
                ..f...9................B..........................
                ...........S...........................F......e...
                ........c.............n.....Q.....................
                .....N...............B............g..7....t.......
                ..........B.........P.......G.....................
                ..m...........................Q...................
                .............m.....................p...........F..
                .....M..B......Q..i.....................7.4.......
                ............M..................7..................
                ...........n......................................
                ................................p.....6.F.7.......
                ..........M...........p.........6.................
                .M............i...................................
                ..............................G...................
                ..............li.......................6..........
                .....9.....................i...6..................
                .....n.............................9..............""";
        Day8 day8 = new Day8(input, true);
        String resultingMap = day8.printMap();
        System.out.println(resultingMap);
        assertEquals(958, day8.countAntinodes());
    }
}
